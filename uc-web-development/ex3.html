<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 2</title>
</head>

<body>
    <div>
        <h1>1) Troco da Máquina</h1>
        <p>Insira os valores abaixo:</p>
        <label for="valor-compra">Valor da compra:</label>
        <input type="number" id="valor-compra" name="valor-compra" required><br><br>
        <label for="valor-pago">Valor pago:</label>
        <input type="number" id="valor-pago" name="valor-pago" required><br><br>
        <button onclick="calcMoneyChange()">Calcular Troco</button>
        <div id="resultado"></div>
    </div>
    <div>
        <h1>2) Calcular Média Aritmética</h1>
        <label for="numbers-average">Insira a quantidade de números que quiser:</label>
        <input type="number" id="numbers-average" name="numbers-average" required><br><br>
        <button onclick="addNumberToArrayAverage()">Adicionar número</button><br><br>
        <label>Quantidade de números:</label>
        <label id="length-average"></label><br><br>
        <button onclick="calcAverage()">Calcular Média Aritmética</button><br><br>
        <label>Média Aritmética:</label>
        <label id="average"></label><br><br>
    </div>
    <div>
        <h1>3) Maior Número</h1>
        <label for="number-max">Insira a quantidade de números que quiser:</label>
        <input type="number" id="number-max" name="number-max" required><br><br>
        <button onclick="addNumberToArrayMax()">Adicionar número</button><br><br>
        <label>Quantidade de números:</label>
        <label id="length-max"></label><br><br>
        <button onclick="calcMaxNumber()">Calcular Maior Número</button><br><br>
        <label for="number-max">Maior Número:</label>
        <label id="max-number"></label><br><br>
    </div>

    <script>
        function calcMoneyChange() {
            const purchaseValue = parseFloat(document.getElementById("valor-compra").value);
            const paidValue = parseFloat(document.getElementById("valor-pago").value);

            if (paidValue < purchaseValue) {
                document.getElementById("resultado").innerHTML = "A quantia paga é insuficiente para realizar a compra!";
            } else {
                let moneyChange = paidValue - purchaseValue;
                let notes = [50, 20, 10, 5, 2, 1];
                let notesQuantity = [0, 0, 0, 0, 0, 0];

                for (let i = 0; i < notes.length; i++) {
                    while (moneyChange >= notes[i]) {
                        moneyChange -= notes[i];
                        notesQuantity[i]++;
                    }
                }

                let result = "Troco: R$ " + (paidValue - purchaseValue).toFixed(2) + "<br>";
                for (let i = 0; i < notes.length; i++) {
                    if (notesQuantity[i] > 0) {
                        result += "Notas de R$ " + notes[i] + ": " + notesQuantity[i] + "<br>";
                    }
                }
                document.getElementById("resultado").innerHTML = result;
            }
        }

        numbersArrayToAverage = [];
        function addNumberToArrayAverage() {
            const number = parseFloat(document.getElementById("numbers-average").value);
            numbersArrayToAverage.push(number);

            document.getElementById('length-average').innerHTML = numbersArrayToAverage.length;
        }

        function calcAverage() {
            let sum = 0;
            numbersArray.forEach(number => {
                sum += number;
            })

            let average = sum / numbersArrayToAverage.length;

            document.getElementById('average').innerHTML = average.toFixed(2);
        }

        numbersArrayToMax = [];
        function addNumberToArrayMax() {
            const number = parseInt(document.getElementById("number-max").value);
            numbersArrayToMax.push(number);

            document.getElementById('length-max').innerHTML = numbersArrayToMax.length;
        }

        function calcMaxNumber() {
            document.getElementById('max-number').innerHTML = Math.max(...numbersArrayToMax);
        }
    </script>
</body>

</html>